package com.dimovsoft.st25dv_i2c.ui.mainimport android.content.Contextimport android.view.LayoutInflaterimport android.view.ViewGroupimport androidx.recyclerview.widget.DiffUtilimport androidx.recyclerview.widget.ListAdapterimport androidx.recyclerview.widget.RecyclerViewimport com.dimovsoft.st25dv_i2c.Rimport com.dimovsoft.st25dv_i2c.databinding.SampleItemBindingimport com.dimovsoft.st25dv_i2c.models.RealmDataSampleimport org.koin.java.KoinJavaComponent.injectimport java.text.SimpleDateFormatimport java.util.Dateimport java.util.Localeprivate const val DATE_FORMAT = "dd/MM/yyyy hh:mm:ss"private class DiffCallBack : DiffUtil.ItemCallback<RealmDataSample>() {	override fun areItemsTheSame(oldItem: RealmDataSample, newItem: RealmDataSample): Boolean =		oldItem._id == newItem._id	override fun areContentsTheSame(oldItem: RealmDataSample, newItem: RealmDataSample): Boolean =		oldItem == newItem}class MyListAdapter: ListAdapter<RealmDataSample, MyListAdapter.SampleViewHolder>(DiffCallBack()) {	override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): SampleViewHolder =		SampleViewHolder(SampleItemBinding.inflate(LayoutInflater.from(parent.context)))	override fun onBindViewHolder(holder: SampleViewHolder, position: Int) {		holder.onBind(getItem(position))	}	class SampleViewHolder(private val binding: SampleItemBinding) : RecyclerView.ViewHolder(binding.root) {		private val context = binding.root.context		fun onBind(sample: RealmDataSample) {			binding.date.text = SimpleDateFormat(DATE_FORMAT, Locale.getDefault()).format(Date(sample.date))			binding.temp.text = context.resources.getString(R.string.temperature, sample.temperature ?: 0f)			binding.pressure.text = context.resources.getString(R.string.pressure, sample.pressure ?: 0f)			binding.humidity.text = context.resources.getString(R.string.humidity, sample.humidity ?: 0f)			binding.acceleration.text = context.resources.getString(R.string.acceleration, sample.acceleration ?: 0f)		}	}}